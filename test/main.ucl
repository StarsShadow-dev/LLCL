@onCodeGen("fn", fn() {
	@addCodeGen("top", "function ");
	@moveCodeGen("top", "__fn_name");
	@addCodeGen("top", "() {\n");
	@moveCodeGen("top", "fn_out");
	@addCodeGen("top", "}");
});

const log = fn(string: String) {
	@addCodeGen("fn_out", "console.log(\"", string, "\");\n");
};

const exportTest = fn() {
	log("Hello, World!");
	log("Bye, World!");
};

@export("test", exportTest);

@writeTofile("top", "./out/main.js");