const indent = inline fn() {
	@addCodeGen("\t");
};

@onCodeGen("start", fn() {
	@addTopCodeGen("\"use strict\";\n");
	@addTopCodeGen("const symbols = {};\n");
});

@onCodeGen("string", fn(text: String) {
	@addCodeGen("\"", text, "\"");
});

@onCodeGen("identifier", fn(name: String) {
	@addCodeGen(name);
});

@onCodeGen("fn", fn(name: String, codeBlockText: String) {
	@addCodeGen("symbols[\"");
	@addCodeGen(name);
	@addCodeGen("\"] = () => {\n");
	@addCodeGen(codeBlockText);
	@addCodeGen("}\n");
});

@onCodeGen("call", fn(name: String) {
	indent();
	@addCodeGen("symbols[\"");
	@addCodeGen(name);
	@addCodeGen("\"](");
	@addCodeGen(");\n");
});

const log = fn(string: String) {
	indent();
	@addCodeGen("console.log(");
	string;
	@addCodeGen(");\n");
};