@onCodeGen("string", fn(text: String) {
	@addCodeGen("fn_out", "\"", text, "\"");
});

@onCodeGen("identifier", fn(name: String) {
	@addCodeGen("fn_out", name);
});

@onCodeGen("fn", fn(name: String) {
	@addCodeGen("top", "function ");
	@addCodeGen("top", name);
	@addCodeGen("top", "() {\n");
	@moveCodeGen("top", "fn_out");
	@addCodeGen("top", "}\n");
});

var indentation = 1;

const addIndentation = fn() {
	var i = 0;
	while (i < indentation) {
		@addCodeGen("fn_out", "\t");
		i = i + 1;
	}
};

const log = fn(string: String) {
	var i = 0;
	while (i < 5) {
		addIndentation();
		@addCodeGen("fn_out", "console.log(\"", string, "\");\n");
		i = i + 1;
	}
};